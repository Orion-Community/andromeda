include ../../scripts/makeIncl
CFLAGS+=-I../../include/
LDFLAGS=-r -nostdlib --oformat=elf32-i386 -melf_i386


.PHONY: all
all: paging.o
	mv -fv paging.o ../

paging.o: page_alloc.o x86.o mboot.o vmem.o vmem_alloc.o
	$(LD) $(LDFLAGS) -o paging.o *.o

page_alloc.o: page_alloc.c
	$(CC) $(FLAGS) $(CFLAGS) page_alloc.c

x86.o: x86.c
	$(CC) $(FLAGS) $(CFLAGS) x86.c

mboot.o: mboot.c
	$(CC) $(FLAGS) $(CFLAGS) mboot.c

vmem.o: vmem.c
	$(CC) $(FLAGS) $(CFLAGS) vmem.c

vmem_alloc.o: vmem_alloc.c
	$(CC) $(FLAGS) $(CFLAGS) vmem_alloc.c

.PHONY: clean
clean:
	rm -fv *.o
